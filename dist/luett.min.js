!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.luett=n()}(this,function(){"use strict";function t(t){return[].slice.call(t)}function n(t,n){for(var e=arguments.length,r=Array(e>2?e-2:0),o=2;o<e;o++)r[o-2]=arguments[o];return t.map(function(t){return n.apply(void 0,[t].concat(r))})}function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return n.querySelector(t)}function r(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return t(e.querySelectorAll(n))}function o(t,n){return t.parentNode.replaceChild(n,t),n}function u(t){for(var n=0;t=t.previousElementSibling;)n++;return n}function i(t){return t.parentNode&&t.parentNode.removeChild(t),t}function a(t,n){return t.classList.add(n),t}function c(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.classList.toggle(n,e),t}function f(t,n){return t.classList.remove(n),t}function s(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return t&&t.hasAttribute(n)?t.getAttribute(n):e}function d(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=r?s(t,n,"")+" "+e:e;return t.setAttribute(n,o),t}function l(t,n){return t&&t.hasAttribute(n)}function p(n,e){function o(e){var r=new RegExp("data-(?:component|"+n+")-([^-]+)","i"),o={};t(e.attributes).forEach(function(t){var n=r.exec(t.name);r.test(t.name)&&(o[n[1]]=t.value)});try{var u=JSON.parse(e.getAttribute("data-component-conf"));return Object.assign(o,u)}catch(t){return o}}var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u=u instanceof HTMLElement?{root:u}:u,r('[data-component~="'+n+'"]',u.root||document).filter(function(t){return!t.hasAttribute("data-component-ready")}).map(function(t,r){var i=t.getAttribute("data-component").split(" "),a=Object.assign({},e.DEFAULTS||{},u.conf||{},o(t)),c={index:r,conf:a,is_type:function(t){return i.indexOf(n+"-"+t)!==-1}},f=e(t,c);return d(t,"data-component-ready",n,!0),f})}function v(t,n){return new Promise(function(e){setTimeout(function(){return e(n)},t)})}var m={toArray:t,mapCall:n},g={$:e,$$:r,component:p,replace:o,index:u,remove:i,addClass:a,toggleClass:c,removeClass:f,getAttr:s,setAttr:d,hasAttr:l};v.pass=function(t){return function(n){return v(t,n)}};var h={delay:v},A=Object.assign(g,h,m);return A});